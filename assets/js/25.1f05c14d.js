(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{293:function(e,t,n){"use strict";n.r(t);var a=n(0),s=Object(a.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"network-event-handlers"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#network-event-handlers","aria-hidden":"true"}},[e._v("#")]),e._v(" Network Event Handlers")]),e._v(" "),n("p",[e._v("Some commands that run on the server might need to also do something on the client, or on every client. Network event handlers are callback functions that you can set to run when a server command sends a message back to the client. Only one handler can be set to a certain event at a time, so it's possible to change the handler for a specific event without needing to re-implement the entire command yourself.")]),e._v(" "),n("p",[e._v("For example, consider the default "),n("code",[e._v("announce")]),e._v(" command, which creates a message on every player's screen. By default, this creates a system chat message with the given text, because Cmdr has a default event handler for the "),n("code",[e._v('"Message"')]),e._v(" event, which the "),n("code",[e._v("announce")]),e._v(" command broadcasts,")]),e._v(" "),n("p",[e._v("If you wanted to display announcements some other way, you could just override the default event handler:")]),e._v(" "),n("div",{staticClass:"language-lua line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-lua"}},[n("code",[e._v("CmdrClient"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("HandleEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Message"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" player"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Announcement from"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" player"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("end")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br")])]),n("p",[e._v("You can send events from your own commands on the server (or to the local player if in a client-only command) by using "),n("code",[e._v("context:SendEvent(player, ...)")]),e._v(" and "),n("code",[e._v("context:BroadcastEvent(...)")]),e._v(". The built-in "),n("code",[e._v("context:Reply(text)")]),e._v(" method actually uses "),n("code",[e._v("SendEvent")]),e._v(" under the hood, whose default handler on the client is set to just add a new line to the console window with the given text.")])])},[],!1,null,null,null);t.default=s.exports}}]);